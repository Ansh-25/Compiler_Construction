#include "lexer.h"

int main(int argc, char *argv[]){
    int choice; 
    char fname[32] = "Program.txt";
    do{
        printf("\t\t IMPLEMENTATION STATUS \n");
        printf("\t\t MAIN MENU: press \n");
        printf("'0' For exititing the program\n");
        printf("'1' For removal of comments\n");
        printf("'2' For printing the token list generated by the lexer\n");
        printf("'3' For parsing the source code and printing the parse tree\n");
        printf("'4' For printing the total time taken by the lexer and parser\n");
        scanf(" %d",&choice);
        switch (choice)
        {
        case 0:
            exit(0);
            break;
        case 1:
            removeComments(fname,"commentFreeFile.txt");
            FILE* commentFile = fopen("commentFreeFile.txt","r");
            char comment_buff[32];
            if(commentFile==NULL) printf("ERROR: comment free file cannot be opened\n");
            else{
                for(int i=0;i<32;++i) comment_buff[i]='\0';
                while(!feof(commentFile)){
                    fread(comment_buff, sizeof(comment_buff) - 1 , 1, commentFile);
                    printf("%s",comment_buff);
                }
            }
            break;
        case 2:

            break;
        case 3:

            break;
        case 4:

            break;
        default:
            prinf("ERROR: INVALID OPERATION CODE\n");
            break;
        }
    }while(1);
}